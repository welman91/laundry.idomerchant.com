import{i as _,r as k,j as i,d as q,k as B,u as m,y as I,q as Y}from"./app-144c7569.js";import{F as Z}from"./index.esm-b6d3ac2b.js";import{F as ee}from"./index.esm-f0dcaf01.js";import{a as te,b as re,c as ne}from"./index.esm-0ff8ed9e.js";import{B as ae,a as oe}from"./ModelActions-c1b7e06e.js";import{G as L}from"./iconBase-a32b9c6a.js";import{customerMasterColumns as ie}from"./CustomerMasterColumns-5fd1dc20.js";import"./CustomerMasterForm-77f7e4dd.js";import"./StandardFormModalTemplate-156ebbc9.js";import"./ActionButton-65ac1286.js";import"./ModelForm-32e1afd3.js";import"./CustomerMasterFormData-26781783.js";var T={},se="Expected a function",U=0/0,ce="[object Symbol]",ue=/^\s+|\s+$/g,le=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,de=/^0o[0-7]+$/i,pe=parseInt,he=typeof _=="object"&&_&&_.Object===Object&&_,ge=typeof self=="object"&&self&&self.Object===Object&&self,ye=he||ge||Function("return this")(),be=Object.prototype,me=be.toString,xe=Math.max,ve=Math.min,R=function(){return ye.Date.now()};function je(e,t,n){var a,r,s,o,c,u,l=0,f=!1,h=!1,d=!0;if(typeof e!="function")throw new TypeError(se);t=H(t)||0,A(n)&&(f=!!n.leading,h="maxWait"in n,s=h?xe(H(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function g(p){var x=a,O=r;return a=r=void 0,l=p,o=e.apply(O,x),o}function y(p){return l=p,c=setTimeout(S,t),f?g(p):o}function w(p){var x=p-u,O=p-l,K=t-x;return h?ve(K,s-O):K}function N(p){var x=p-u,O=p-l;return u===void 0||x>=t||x<0||h&&O>=s}function S(){var p=R();if(N(p))return M(p);c=setTimeout(S,w(p))}function M(p){return c=void 0,d&&a?g(p):(a=r=void 0,o)}function J(){c!==void 0&&clearTimeout(c),l=0,a=u=r=c=void 0}function Q(){return c===void 0?o:M(R())}function E(){var p=R(),x=N(p);if(a=arguments,r=this,u=p,x){if(c===void 0)return y(u);if(h)return c=setTimeout(S,t),g(u)}return c===void 0&&(c=setTimeout(S,t)),o}return E.cancel=J,E.flush=Q,E}function A(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function we(e){return!!e&&typeof e=="object"}function Oe(e){return typeof e=="symbol"||we(e)&&me.call(e)==ce}function H(e){if(typeof e=="number")return e;if(Oe(e))return U;if(A(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=A(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ue,"");var n=fe.test(e);return n||de.test(e)?pe(e.slice(2),n?2:8):le.test(e)?U:+e}var ke=je;function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}Object.defineProperty(T,"__esModule",{value:!0});T.DebounceInput=void 0;var W=V(k),Ne=V(ke),Se=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function V(e){return e&&e.__esModule?e:{default:e}}function _e(e,t){if(e==null)return{};var n=De(e,t),a,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function De(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(a){v(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pe(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function F(e,t){return F=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a},F(e,t)}function Te(e){var t=Re();return function(){var a=P(e),r;if(t){var s=P(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return Ee(this,r)}}function Ee(e,t){if(t&&(C(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},P(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){Le(n,e);var t=Te(n);function n(a){var r;Be(this,n),r=t.call(this,a),v(j(r),"onChange",function(o){o.persist();var c=r.state.value,u=r.props.minLength;r.setState({value:o.target.value},function(){var l=r.state.value;if(l.length>=u){r.notify(o);return}c.length>l.length&&r.notify(b(b({},o),{},{target:b(b({},o.target),{},{value:""})}))})}),v(j(r),"onKeyDown",function(o){o.key==="Enter"&&r.forceNotify(o);var c=r.props.onKeyDown;c&&(o.persist(),c(o))}),v(j(r),"onBlur",function(o){r.forceNotify(o);var c=r.props.onBlur;c&&(o.persist(),c(o))}),v(j(r),"createNotifier",function(o){if(o<0)r.notify=function(){return null};else if(o===0)r.notify=r.doNotify;else{var c=(0,Ne.default)(function(u){r.isDebouncing=!1,r.doNotify(u)},o);r.notify=function(u){r.isDebouncing=!0,c(u)},r.flush=function(){return c.flush()},r.cancel=function(){r.isDebouncing=!1,c.cancel()}}}),v(j(r),"doNotify",function(){var o=r.props.onChange;o.apply(void 0,arguments)}),v(j(r),"forceNotify",function(o){var c=r.props.debounceTimeout;if(!(!r.isDebouncing&&c>0)){r.cancel&&r.cancel();var u=r.state.value,l=r.props.minLength;u.length>=l?r.doNotify(o):r.doNotify(b(b({},o),{},{target:b(b({},o.target),{},{value:u})}))}}),r.isDebouncing=!1,r.state={value:typeof a.value>"u"||a.value===null?"":a.value};var s=r.props.debounceTimeout;return r.createNotifier(s),r}return Pe(n,[{key:"componentDidUpdate",value:function(r){if(!this.isDebouncing){var s=this.props,o=s.value,c=s.debounceTimeout,u=r.debounceTimeout,l=r.value,f=this.state.value;typeof o<"u"&&l!==o&&f!==o&&this.setState({value:o}),c!==u&&this.createNotifier(c)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var r=this.props,s=r.element;r.onChange,r.value,r.minLength,r.debounceTimeout;var o=r.forceNotifyByEnter,c=r.forceNotifyOnBlur,u=r.onKeyDown,l=r.onBlur,f=r.inputRef,h=_e(r,Se),d=this.state.value,g;o?g={onKeyDown:this.onKeyDown}:u?g={onKeyDown:u}:g={};var y;c?y={onBlur:this.onBlur}:l?y={onBlur:l}:y={};var w=f?{ref:f}:{};return W.default.createElement(s,b(b(b(b({},h),{},{onChange:this.onChange,value:d},g),y),w))}}]),n}(W.default.PureComponent);T.DebounceInput=X;v(X,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0});var Ie=T,$=Ie.DebounceInput;$.DebounceInput=$;var Ae=$;function Ce({search:e,setSearch:t,searchField:n,searchFields:a,onSelectSearchField:r,autoFocus:s}){const o=k.useRef(null);function c(l){var f,h;(f=o.current)==null||f.classList.add("border-primary-700"),(h=o.current)==null||h.classList.add("dark:border-primary-700")}function u(l){var f,h,d,g;(f=o.current)==null||f.classList.remove("border-primary-700"),(h=o.current)==null||h.classList.remove("dark:border-primary-700"),(d=o.current)==null||d.classList.add("border-gray-300"),(g=o.current)==null||g.classList.add("dark:border-gray-700")}return i.jsxs("div",{ref:o,className:"w-full text-sm flex-start rounded-full appearxance-none border-2 px-4 border-gray-300 dark:border-gray-700 bg-white dark:bg-black",children:[i.jsxs("div",{className:"flex-start",children:[i.jsx(ee,{className:"txext-sm text-gray-700 dark:text-white"}),i.jsx("select",{className:`text-sm border-none font-bold focus:border-none focus:ring-0 bg-trxansparent \r
          bg-white dark:bg-black text-gray-700 dark:text-white cursor-pointer`,value:n,onChange:r,children:a==null?void 0:a.map((l,f)=>i.jsx("option",{value:l.field,children:l.header},f))})]}),i.jsx("p",{className:"text-xl text-gray-300 dark:text-gray-600",children:"|"}),i.jsxs("div",{className:"w-full flex-between",children:[i.jsx(Ae.DebounceInput,{type:"search",name:"searchbar",className:"w-full text-sm bg-transparent dark:bg-transparent border-none focus:border-none focus:ring-0 text-gray-700 dark:text-white",placeholder:"Search...",spellCheck:!1,minLength:1,debounceTimeout:500,value:e,onChange:l=>t(l.target.value),onFocus:c,onBlur:u,autoFocus:s}),e&&i.jsx("button",{type:"button",className:"text-gray-500 dark:text-white",onClick:()=>t(""),children:i.jsx(Z,{})})]})]})}function Fe(e){return L({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(e)}function $e(e){return L({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"}}]})(e)}function Me(e){return L({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 0 0 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]})(e)}function Ke(e){return L({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 0 0 188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 0 0 492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]})(e)}function Ue({collection:e,columns:t,ActionsButton:n,FilterButton:a,withSearch:r=!1,withPagination:s=!1,withRowSelection:o=!1,onSelectRow:c,resetRouteRedirect:u=null,custom:l=!1,children:f=null}){var h;return i.jsxs("div",{className:"w-full rounded-md shadow-lg overflow-auto bg-white dark:bg-[#121E2E]",children:[i.jsxs("header",{className:"px-4 py-3 flex-start gap-4",children:[n&&i.jsx("div",{className:"flex-none",children:n}),r&&i.jsx("div",{className:"flex-grow",children:i.jsx(We,{searchFields:t.filter(d=>d.searchable===void 0||d.searchable===!0)})}),u&&i.jsx("div",{className:"flex-none",children:i.jsxs(q,{href:u,className:"font-semibold px-4 py-1 rounded-md button-shadow text-gray-600 dark:text-white dark:bg-[#0B1727] hover:bg-rose-500 hover:text-white hover:dark:bg-rose-500 hover:dark:text-white flex-start gap-1",children:[i.jsx(ae,{}),"Reset"]})}),a&&i.jsx("div",{className:"flex-none",children:a})]}),i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"text-gray-700 dark:text-white bg-[#EDF2F9] dark:bg-[#232E3C]",children:i.jsx("tr",{children:t.map((d,g)=>i.jsx(He,{column:d},g))})}),f,!l&&i.jsx("tbody",{children:(h=e.data)==null?void 0:h.map((d,g)=>i.jsx("tr",{className:`hover:bg-teal-200 dark:hover:bg-teal-800 ${d.deleted_at&&"bg-[#ffadad] dark:bg-[#410b0b] hover:bg-[#ffadad] dark:hover:bg-[#410b0b]"}`,onClick:()=>{if(o)return c(d)},children:t.map((y,w)=>{function N(){if(!y.bodyAlignment||y.bodyAlignment==="left")return"text-start";if(y.bodyAlignment==="center")return"text-center";if(y.bodyAlignment==="right")return"text-end"}return i.jsx("td",{align:"center",className:`first:pl-4 last:pr-4 px-2 py-2 text-sm
                      border-b border-gray-400 dark:border-gray-500 
                      text-gray-700 dark:text-gray-300 
                      ${N()}
                      ${o&&"cursor-pointer"}
                      `,children:y.render?y.render(d):i.jsx("p",{children:d[y.field]})},w)})},g))})]}),s&&i.jsx(ze,{meta:e.meta,links:e.links})]})}const He=({column:e})=>{const t="sort[f]",n="sort[d]",a=B(t),r=B(n),s={f:a,d:r},o=()=>{if(!e.headerAlignment||e.headerAlignment==="left")return"flex-start";if(e.headerAlignment==="center")return"flex-center";if(e.headerAlignment==="right")return"flex-end"},c=e.sortable===void 0||e.sortable===!0;function u(){if(e.sortable===!1)return;const l=(s==null?void 0:s.f)===e.field&&(s==null?void 0:s.d)==="asc"?"desc":"asc",f=m(window.location.href,"page",1),h=m(f,t,e.field),d=m(h,n,l);return I.get(d,{},{preserveScroll:!0})}return i.jsx("th",{className:`first:pl-4 last:pr-4 px-2 py-2 text-left font-normal text-sm ${c&&"cursor-pointer hover:bg-primary dark:hover:bg-primary hover:text-white dark:hover:text-white"}`,onClick:u,children:i.jsxs("div",{className:`${o()} gap-2`,children:[c&&i.jsxs("div",{children:[(s==null?void 0:s.f)!==e.field&&i.jsx(te,{className:"text-gray-400 dark:text-gray-600"}),(s==null?void 0:s.f)===e.field&&(s==null?void 0:s.d)==="asc"&&i.jsx(re,{className:"text-gray-700 dark:text-gray-100"}),(s==null?void 0:s.f)===e.field&&(s==null?void 0:s.d)==="desc"&&i.jsx(ne,{className:"text-gray-700 dark:text-gray-100"})]}),i.jsx("p",{className:`font-bold not:hover:text-gray-700 dark:not:hover:text-white select-none ${!e.headerTextWrap&&"whitespace-nowrap"}`,children:e.header})]})})},We=({searchFields:e})=>{const[t,n]=k.useState(B("search[v]")??""),[a,r]=k.useState(B("search[f]")??e[0].field);function s(c){if(r(c.target.value),t){const u=m(window.location.href,"page",1),l=m(u,"search[f]",c.target.value),f=m(l,"search[v]",t);return I.get(f,{},{preserveScroll:!0})}}function o(c){n(c);const u=m(window.location.href,"page",1),l=m(u,"search[f]",a),f=m(l,"search[v]",c);return I.get(f,{},{preserveScroll:!0})}return i.jsx(Ce,{search:t,setSearch:o,searchField:a,searchFields:e,onSelectSearchField:s})},ze=({meta:e,links:t})=>e.total>0?i.jsx("div",{className:"flex-center gap-4 py-4 text-gray-700 dark:text-white bg-[#EDF2F9] dark:bg-[#232E3C]",children:i.jsxs("div",{className:"flex-center gap-2",children:[i.jsx(D,{icon:i.jsx(Me,{}),href:t.first,disabled:!t.prev}),i.jsx(D,{icon:i.jsx(Fe,{}),href:t.prev,disabled:!t.prev}),i.jsx("p",{className:"text-sm flex-center gap-1 px-4 py-2 text-gray-700 dark:text-white dark:bg-[#0B1727]",children:`Page ${e.current_page} / ${e.last_page}. Records ${e.from}-${e.to} of ${e.total}`}),i.jsx(D,{icon:i.jsx($e,{}),href:t.next,disabled:!t.next}),i.jsx(D,{icon:i.jsx(Ke,{}),href:t.last,disabled:!t.next})]})}):i.jsx("p",{className:"text-center p-4 text-gray-700 dark:text-white",children:"No data found..."}),D=({href:e,disabled:t,icon:n})=>i.jsx(q,{preserveScroll:!0,href:e,className:"text-xl flex-center gap-1 px-4 py-2 text-gray-700 dark:text-white dark:bg-[#0B1727] disabled:dark:text-gray-500",as:"button",disabled:t,children:n});function Ge({type:e="button",onClick:t,children:n}){return i.jsx("button",{type:e,className:"flex-center gap-2 font-semibold px-4 py-1 rounded-md button-shadow text-gray-600 dark:text-white dark:bg-[#0B1727] hover:bg-primary hover:text-white hover:dark:bg-primary hover:dark:text-white",onClick:t,children:n})}function it({onClickNew:e}){const{page:t,collection:n,permissions:a}=Y().props,{module:r,slug:s,routes:o}=t;function c(){let u;switch(r){case"customer-master":u=ie;break}return u}return c()?i.jsx(Ue,{collection:n,columns:c(),ActionsButton:a.canCreate&&i.jsx(qe,{onClickNew:e}),withSearch:!0,withPagination:!0,resetRouteRedirect:route(o.index,s)}):console.error("Error, columns not found!")}const qe=({onClickNew:e})=>i.jsx(k.Fragment,{children:i.jsxs(Ge,{onClick:e,children:[i.jsx(oe,{}),"New"]})});export{it as default};
